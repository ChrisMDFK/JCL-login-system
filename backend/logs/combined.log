{"timestamp":"2025-09-07 21:01:20","level":"error","message":"資料庫連線測試失敗","service":"jcl-auth-backend","error":{"errno":-111,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":5432}}
{"timestamp":"2025-09-07 21:28:35","level":"info","message":"正在啟動 JCL 企業級身分驗證系統...","service":"jcl-auth-backend","nodeEnv":"development","port":3001}
{"timestamp":"2025-09-07 21:28:35","level":"info","message":"開發環境：等待資料庫服務啟動...","service":"jcl-auth-backend"}
{"timestamp":"2025-09-07 21:28:37","level":"info","message":"嘗試連接資料庫","service":"jcl-auth-backend","url":"sqlite:./dev.db","type":"SQLite"}
{"timestamp":"2025-09-07 21:28:37","level":"error","message":"Database initialization failed","service":"jcl-auth-backend","error":{"tries":["/home/project/backend/node_modules/better-sqlite3/build/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/build/Debug/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/build/Release/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/out/Debug/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/Debug/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/out/Release/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/Release/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/build/default/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/compiled/20.19.1/linux/x64/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/addon-build/release/install-root/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/addon-build/debug/install-root/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/addon-build/default/install-root/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/lib/binding/node-v115-linux-x64/better_sqlite3.node"]}}
{"timestamp":"2025-09-07 21:28:37","level":"warn","message":"Continuing without database connection","service":"jcl-auth-backend"}
{"timestamp":"2025-09-07 21:28:37","level":"info","message":"資料庫連線已建立","service":"jcl-auth-backend"}
{"timestamp":"2025-09-07 21:28:37","level":"info","message":"開發環境：等待 Redis 服務啟動...","service":"jcl-auth-backend"}
{"timestamp":"2025-09-07 21:28:39","level":"warn","message":"Redis 初始化失敗，繼續運行但不使用快取","service":"jcl-auth-backend","error":{}}
{"timestamp":"2025-09-07 21:28:39","level":"info","message":"Redis 連線已建立","service":"jcl-auth-backend"}
{"timestamp":"2025-09-07 21:28:39","level":"info","message":"JCL 企業級身分驗證系統已啟動","service":"jcl-auth-backend","port":3001,"host":"0.0.0.0","environment":"development"}
{"timestamp":"2025-09-07 21:28:40","level":"info","message":"請求開始","service":"jcl-auth-backend","method":"GET","url":"/","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","correlationId":"cb94ebef-a5ea-4f59-9db3-f9c58d80f5a8"}
{"timestamp":"2025-09-07 21:28:40","level":"warn","message":"路由未找到","service":"jcl-auth-backend","method":"GET","url":"/","ip":"127.0.0.1"}
{"timestamp":"2025-09-07 21:28:40","level":"info","message":"請求完成","service":"jcl-auth-backend","method":"GET","url":"/","statusCode":404,"duration":"17ms","correlationId":"cb94ebef-a5ea-4f59-9db3-f9c58d80f5a8","contentLength":"116"}
{"timestamp":"2025-09-07 21:28:41","level":"info","message":"請求開始","service":"jcl-auth-backend","method":"GET","url":"/","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","correlationId":"c1c875c2-cb74-4e6a-9a34-d78bed270be7"}
{"timestamp":"2025-09-07 21:28:41","level":"warn","message":"路由未找到","service":"jcl-auth-backend","method":"GET","url":"/","ip":"127.0.0.1"}
{"timestamp":"2025-09-07 21:28:41","level":"info","message":"請求完成","service":"jcl-auth-backend","method":"GET","url":"/","statusCode":404,"duration":"6ms","correlationId":"c1c875c2-cb74-4e6a-9a34-d78bed270be7","contentLength":"116"}
{"timestamp":"2025-09-07 21:28:49","level":"info","message":"請求開始","service":"jcl-auth-backend","method":"GET","url":"/","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","correlationId":"63401f14-52a6-4ad6-8307-3815fa6caaa2"}
{"timestamp":"2025-09-07 21:28:49","level":"warn","message":"路由未找到","service":"jcl-auth-backend","method":"GET","url":"/","ip":"127.0.0.1"}
{"timestamp":"2025-09-07 21:28:49","level":"info","message":"請求完成","service":"jcl-auth-backend","method":"GET","url":"/","statusCode":404,"duration":"5ms","correlationId":"63401f14-52a6-4ad6-8307-3815fa6caaa2","contentLength":"116"}
{"timestamp":"2025-09-07 21:28:52","level":"info","message":"收到 SIGTERM 信號，開始優雅關機程序","service":"jcl-auth-backend"}
{"level":"info","message":"正在啟動 JCL 企業級身分驗證系統...","nodeEnv":"development","port":3001,"service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:54"}
{"level":"info","message":"開發環境：等待資料庫服務啟動...","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:54"}
{"level":"info","message":"嘗試連接資料庫","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:56","type":"SQLite","url":"sqlite:./dev.db"}
{"error":{"tries":["/home/project/backend/node_modules/better-sqlite3/build/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/build/Debug/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/build/Release/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/out/Debug/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/Debug/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/out/Release/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/Release/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/build/default/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/compiled/20.19.1/linux/x64/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/addon-build/release/install-root/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/addon-build/debug/install-root/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/addon-build/default/install-root/better_sqlite3.node","/home/project/backend/node_modules/better-sqlite3/lib/binding/node-v115-linux-x64/better_sqlite3.node"]},"level":"error","message":"Database initialization failed","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:56"}
{"level":"warn","message":"Continuing without database connection","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:56"}
{"level":"info","message":"資料庫連線已建立","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:56"}
{"level":"info","message":"開發環境：等待 Redis 服務啟動...","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:56"}
{"error":{},"level":"warn","message":"Redis 初始化失敗，繼續運行但不使用快取","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:58"}
{"level":"info","message":"Redis 連線已建立","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:58"}
{"environment":"development","host":"0.0.0.0","level":"info","message":"JCL 企業級身分驗證系統已啟動","port":3001,"service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:58"}
{"correlationId":"4aa3c155-26a7-413f-815c-0c8e0297ea94","ip":"127.0.0.1","level":"info","message":"請求開始","method":"GET","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:58","url":"/","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"ip":"127.0.0.1","level":"warn","message":"路由未找到","method":"GET","service":"jcl-auth-backend","timestamp":"2025-09-07 21:28:58","url":"/"}
{"contentLength":"116","correlationId":"4aa3c155-26a7-413f-815c-0c8e0297ea94","duration":"17ms","level":"info","message":"請求完成","method":"GET","service":"jcl-auth-backend","statusCode":404,"timestamp":"2025-09-07 21:28:58","url":"/"}
{"correlationId":"85eb683a-fa2e-42c2-bae6-fdb793be781f","ip":"127.0.0.1","level":"info","message":"請求開始","method":"GET","service":"jcl-auth-backend","timestamp":"2025-09-07 21:29:05","url":"/","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"ip":"127.0.0.1","level":"warn","message":"路由未找到","method":"GET","service":"jcl-auth-backend","timestamp":"2025-09-07 21:29:05","url":"/"}
{"contentLength":"116","correlationId":"85eb683a-fa2e-42c2-bae6-fdb793be781f","duration":"7ms","level":"info","message":"請求完成","method":"GET","service":"jcl-auth-backend","statusCode":404,"timestamp":"2025-09-07 21:29:05","url":"/"}
{"correlationId":"4099fe54-e29d-4670-8184-30e6257b0d89","ip":"127.0.0.1","level":"info","message":"請求開始","method":"GET","service":"jcl-auth-backend","timestamp":"2025-09-07 21:29:13","url":"/","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"ip":"127.0.0.1","level":"warn","message":"路由未找到","method":"GET","service":"jcl-auth-backend","timestamp":"2025-09-07 21:29:13","url":"/"}
{"contentLength":"116","correlationId":"4099fe54-e29d-4670-8184-30e6257b0d89","duration":"3ms","level":"info","message":"請求完成","method":"GET","service":"jcl-auth-backend","statusCode":404,"timestamp":"2025-09-07 21:29:13","url":"/"}
